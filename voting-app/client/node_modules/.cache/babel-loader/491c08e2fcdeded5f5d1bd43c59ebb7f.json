{"ast":null,"code":"var _jsxFileName = \"/home/tomas/Voting app (2)/voting-app/client/src/components/fileReader/fileReader.js\";\nimport React from 'react';\nimport { string, func, element, oneOfType } from 'prop-types';\n\nconst PapaParse = require('papaparse/papaparse.min.js');\n\nconst FileRead = ({\n  accept = '.csv, text/csv',\n  label,\n  onFileLoaded,\n  onError,\n  parserOptions = {}\n}) => {\n  let fileContent = undefined;\n\n  const handleChangeFile = e => {\n    let reader = new FileReader();\n\n    if (e.target.files.length > 0) {\n      const filename = e.target.files[0].name;\n\n      reader.onload = event => {\n        const csvData = PapaParse.parse(event.target.result, Object.assign(parserOptions, {\n          error: onError\n        }));\n        onFileLoaded(csvData.data, filename);\n      };\n\n      reader.readAsText(e.target.files[0]);\n    }\n  };\n\n  return React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"custom-file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    class: \"custom-file-input\",\n    id: \"customFile\",\n    onChange: e => handleChangeFile(e),\n    accept: accept,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    class: \"custom-file-label\",\n    for: \"customFile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Choose file\")));\n};\n\nexport default FileRead;","map":{"version":3,"sources":["/home/tomas/Voting app (2)/voting-app/client/src/components/fileReader/fileReader.js"],"names":["React","string","func","element","oneOfType","PapaParse","require","FileRead","accept","label","onFileLoaded","onError","parserOptions","fileContent","undefined","handleChangeFile","e","reader","FileReader","target","files","length","filename","name","onload","event","csvData","parse","result","Object","assign","error","data","readAsText"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,OAAvB,EAAgCC,SAAhC,QAAiD,YAAjD;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,4BAAD,CAAzB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAChBC,EAAAA,MAAM,GAAG,gBADO;AAEhBC,EAAAA,KAFgB;AAGhBC,EAAAA,YAHgB;AAIhBC,EAAAA,OAJgB;AAKhBC,EAAAA,aAAa,GAAG;AALA,CAAD,KAMX;AACJ,MAAIC,WAAW,GAAGC,SAAlB;;AAEA,QAAMC,gBAAgB,GAAGC,CAAC,IAAI;AAC5B,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACA,QAAIF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAeC,MAAf,GAAwB,CAA5B,EAA+B;AAC7B,YAAMC,QAAQ,GAAGN,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBG,IAAnC;;AAEAN,MAAAA,MAAM,CAACO,MAAP,GAAgBC,KAAK,IAAI;AACvB,cAAMC,OAAO,GAAGrB,SAAS,CAACsB,KAAV,CACdF,KAAK,CAACN,MAAN,CAAaS,MADC,EAEdC,MAAM,CAACC,MAAP,CAAclB,aAAd,EAA6B;AAC3BmB,UAAAA,KAAK,EAAEpB;AADoB,SAA7B,CAFc,CAAhB;AAMAD,QAAAA,YAAY,CAACgB,OAAO,CAACM,IAAT,EAAeV,QAAf,CAAZ;AACD,OARD;;AAUAL,MAAAA,MAAM,CAACgB,UAAP,CAAkBjB,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAlB;AACD;AACF,GAjBD;;AAkBM,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAC,mBAAzB;AAA6C,IAAA,EAAE,EAAC,YAAhD;AAA6D,IAAA,QAAQ,EAAEJ,CAAC,IAAID,gBAAgB,CAACC,CAAD,CAA5F;AAAiG,IAAA,MAAM,EAAER,MAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAO,IAAA,KAAK,EAAC,mBAAb;AAAiC,IAAA,GAAG,EAAC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,CADJ,CADJ;AAQH,CAnCL;;AAqCA,eAAeD,QAAf","sourcesContent":["import React from 'react';\nimport { string, func, element, oneOfType } from 'prop-types';\nconst PapaParse = require('papaparse/papaparse.min.js');\n\nconst FileRead = ({\n  accept = '.csv, text/csv',\n  label,\n  onFileLoaded,\n  onError,\n  parserOptions = {}\n}) => {\n  let fileContent = undefined;\n\n  const handleChangeFile = e => {\n    let reader = new FileReader();\n    if (e.target.files.length > 0) {\n      const filename = e.target.files[0].name;\n\n      reader.onload = event => {\n        const csvData = PapaParse.parse(\n          event.target.result,\n          Object.assign(parserOptions, {\n            error: onError\n          })\n        );\n        onFileLoaded(csvData.data, filename);\n      };\n\n      reader.readAsText(e.target.files[0]);\n    }\n  };\n        return(\n            <form>\n                <div className=\"custom-file\">\n                    <input type=\"file\" class=\"custom-file-input\" id=\"customFile\" onChange={e => handleChangeFile(e)} accept={accept}/>\n                    <label class=\"custom-file-label\" for=\"customFile\">Choose file</label>\n                </div>\n            </form>\n        );\n    }\n\nexport default FileRead;"]},"metadata":{},"sourceType":"module"}