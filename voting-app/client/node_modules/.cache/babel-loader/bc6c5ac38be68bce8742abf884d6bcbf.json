{"ast":null,"code":"var _jsxFileName = \"/home/tomas/Voting app (2)/voting-app/client/src/components/fileReader/fileReader.js\";\nimport React from 'react';\nimport { func } from 'prop-types';\n\nconst PapaParse = require('papaparse/papaparse.min.js');\n\nconst FileRead = ({\n  accept = '.csv, text/csv',\n  onFileLoaded,\n  onError,\n  parserOptions = {}\n}) => {\n  const handleChangeFile = e => {\n    let reader = new FileReader();\n\n    if (e.target.files.length > 0) {\n      const filename = e.target.files[0].name;\n\n      reader.onload = event => {\n        const csvData = PapaParse.parse(event.target.result, Object.assign(parserOptions, {\n          error: onError\n        }));\n        onFileLoaded(csvData.data, filename);\n      };\n\n      reader.readAsText(e.target.files[0]);\n    }\n  };\n\n  return React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"custom-file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"file\",\n    className: \"custom-file-input\",\n    id: \"customFile\",\n    onChange: e => handleChangeFile(e),\n    accept: accept,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    className: \"custom-file-label\",\n    htmlFor: \"customFile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Choose file\")));\n};\n\nFileRead.propTypes = {\n  onFileLoaded: func.isRequired,\n  onError: func\n};\nexport default FileRead;","map":{"version":3,"sources":["/home/tomas/Voting app (2)/voting-app/client/src/components/fileReader/fileReader.js"],"names":["React","func","PapaParse","require","FileRead","accept","onFileLoaded","onError","parserOptions","handleChangeFile","e","reader","FileReader","target","files","length","filename","name","onload","event","csvData","parse","result","Object","assign","error","data","readAsText","propTypes","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,YAAnB;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,4BAAD,CAAzB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AACdC,EAAAA,MAAM,GAAG,gBADK;AAEdC,EAAAA,YAFc;AAGdC,EAAAA,OAHc;AAIdC,EAAAA,aAAa,GAAG;AAJF,CAAD,KAKX;AAEJ,QAAMC,gBAAgB,GAAGC,CAAC,IAAI;AAC5B,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACA,QAAIF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAeC,MAAf,GAAwB,CAA5B,EAA+B;AAC7B,YAAMC,QAAQ,GAAGN,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBG,IAAnC;;AAEAN,MAAAA,MAAM,CAACO,MAAP,GAAgBC,KAAK,IAAI;AACvB,cAAMC,OAAO,GAAGlB,SAAS,CAACmB,KAAV,CACdF,KAAK,CAACN,MAAN,CAAaS,MADC,EAEdC,MAAM,CAACC,MAAP,CAAchB,aAAd,EAA6B;AAC3BiB,UAAAA,KAAK,EAAElB;AADoB,SAA7B,CAFc,CAAhB;AAMAD,QAAAA,YAAY,CAACc,OAAO,CAACM,IAAT,EAAeV,QAAf,CAAZ;AACD,OARD;;AAUAL,MAAAA,MAAM,CAACgB,UAAP,CAAkBjB,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAlB;AACD;AACF,GAjBD;;AAkBM,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,mBAA7B;AAAiD,IAAA,EAAE,EAAC,YAApD;AAAiE,IAAA,QAAQ,EAAEJ,CAAC,IAAID,gBAAgB,CAACC,CAAD,CAAhG;AAAqG,IAAA,MAAM,EAAEL,MAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAO,IAAA,SAAS,EAAC,mBAAjB;AAAqC,IAAA,OAAO,EAAC,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,CADJ,CADJ;AAQH,CAjCL;;AAkCID,QAAQ,CAACwB,SAAT,GAAqB;AACjBtB,EAAAA,YAAY,EAAEL,IAAI,CAAC4B,UADF;AAEjBtB,EAAAA,OAAO,EAAEN;AAFQ,CAArB;AAKJ,eAAeG,QAAf","sourcesContent":["import React from 'react';\nimport {func} from 'prop-types';\nconst PapaParse = require('papaparse/papaparse.min.js');\n\nconst FileRead = ({\n    accept = '.csv, text/csv',\n    onFileLoaded,\n    onError,\n    parserOptions = {}\n}) => {\n\n  const handleChangeFile = e => {\n    let reader = new FileReader();\n    if (e.target.files.length > 0) {\n      const filename = e.target.files[0].name;\n\n      reader.onload = event => {\n        const csvData = PapaParse.parse(\n          event.target.result,\n          Object.assign(parserOptions, {\n            error: onError\n          })\n        );\n        onFileLoaded(csvData.data, filename);\n      };\n\n      reader.readAsText(e.target.files[0]);\n    }\n  };\n        return(\n            <form>\n                <div className=\"custom-file\">\n                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" onChange={e => handleChangeFile(e)} accept={accept}/>\n                    <label className=\"custom-file-label\" htmlFor=\"customFile\">Choose file</label>\n                </div>\n            </form>\n        );\n    };\n    FileRead.propTypes = {\n        onFileLoaded: func.isRequired,\n        onError: func,\n    };\n\nexport default FileRead;"]},"metadata":{},"sourceType":"module"}